<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Week 4 - Project Week: Zika Mission Control Part 2 &#8212; LaunchCode: GIS DevOps  documentation</title>
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/launchcode.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Week 5 - Day 1: Intro to DevOps/AWS" href="../../week05/day1/index.html" />
    <link rel="prev" title="Week 3 - Day 5: ES2015, ESLint, OpenLayers" href="../../week03/day5/index.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html"><span><img src="../../_static/lc-logo.svg" alt="LaunchCode logo"></span>
          GIS DevOps</a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Pages <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../../week01/day1/index.html">Week 1 - Day 1: Git, GitLab, IntelliJ, Refactoring, Unit Testing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../week01/day1/index.html#summary">Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week01/day1/index.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week01/day1/index.html#slides">Slides</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week01/day1/index.html#walkthrough">Walkthrough</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week01/day1/index.html#exercises">Exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week01/day1/index.html#studio">Studio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week01/day1/index.html#resources">Resources</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../week01/day2/index.html">Week 1 - Day 2: Security, Test-driven development</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../week01/day2/index.html#lesson-content">Lesson Content</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week01/day2/index.html#walkthrough">Walkthrough</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week01/day2/index.html#studio">Studio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week01/day2/index.html#resources">Resources</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../week01/day3/index.html">Week 1 - Day 3: Integration testing, dependency injection</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../week01/day3/index.html#lesson-content">Lesson Content</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week01/day3/index.html#walkthrough">Walkthrough</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week01/day3/index.html#studio">Studio</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../week01/day4/index.html">Week 1 - Day 4: Postgres, Spring Data, JPA, Hibernate</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../week01/day4/index.html#lesson-content">Lesson Content</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week01/day4/index.html#walkthroughs">Walkthroughs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week01/day4/index.html#studio">Studio</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../week01/day5/index.html">Week 1 - Day 5: AJAX, Open Layers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../week01/day5/index.html#lesson-content">Lesson Content</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week01/day5/index.html#walkthrough">Walkthrough</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week01/day5/index.html#studio">Studio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week01/day5/index.html#retro">Retro</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week01/day5/index.html#additional-resources">Additional Resources</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../week02/project/index.html">Week 2 - Project Week: Zika Mission Control</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../week02/project/index.html#project">Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week02/project/index.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week02/project/index.html#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week02/project/index.html#project-hints">Project Hints</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week02/project/index.html#setup-project">Setup Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week02/project/index.html#setup-postgres">Setup Postgres</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week02/project/index.html#turning-in-your-work">Turning In Your Work</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week02/project/index.html#bonus-missions">Bonus Missions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week02/project/index.html#resources">Resources</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../week03/day1/index.html">Week 3 - Day 1: RESTful web services</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../week03/day1/index.html#lesson-content">Lesson Content</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week03/day1/index.html#walkthrough">Walkthrough</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week03/day1/index.html#studio">Studio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week03/day1/index.html#resources">Resources</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../week03/day2/index.html">Week 3 - Day 2 Swagger REST framework</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../week03/day2/index.html#lesson-content">Lesson Content</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week03/day2/index.html#walkthrough">Walkthrough</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week03/day2/index.html#studio">Studio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week03/day2/index.html#resources">Resources</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../week03/day3/index.html">Week 3 - Day 3: Intro to Elasticsearch</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../week03/day3/index.html#summary">Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week03/day3/index.html#lesson-content">Lesson Content</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week03/day3/index.html#walkthrough">Walkthrough</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week03/day3/index.html#studio">Studio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week03/day3/index.html#resources">Resources</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../week03/day4/index.html">Week 3 - Day 4: More Elasticsearch, Integrating ES with Spring</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../week03/day4/index.html#summary">Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week03/day4/index.html#lesson-content">Lesson Content</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week03/day4/index.html#studio">Studio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week03/day4/index.html#walkthrough">Walkthrough</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week03/day4/index.html#resources">Resources</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../week03/day5/index.html">Week 3 - Day 5: ES2015, ESLint, OpenLayers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../week03/day5/index.html#summary">Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week03/day5/index.html#lesson-content">Lesson Content</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week03/day5/index.html#walkthrough">Walkthrough</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week03/day5/index.html#studio">Studio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week03/day5/index.html#retro">Retro</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week03/day5/index.html#resources">Resources</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Week 4 - Project Week: Zika Mission Control Part 2</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#project">Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#getting-the-code">Getting the code</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-new-in-the-code">What’s new in the code</a></li>
<li class="toctree-l2"><a class="reference internal" href="#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#suggested-endpoints-parameters">Suggested Endpoints/Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="#database-setup">Database Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="#walkthrough-on-creating-the-location-data">Walkthrough on Creating the Location Data</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../week05/day1/index.html">Week 5 - Day 1: Intro to DevOps/AWS</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../week05/day1/index.html#lesson-content">Lesson Content</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week05/day1/index.html#walkthrough">Walkthrough</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week05/day1/index.html#studio">Studio</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../week05/day2/index.html">Week 5 - Day 2: More with AWS</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../week05/day2/index.html#lesson-content">Lesson Content</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week05/day2/index.html#studio">Studio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week05/day2/index.html#resources">Resources</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../week05/day3/index.html">Week 5 - Day 3: 12 Factor Apps and Auto Scaling</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../week05/day3/index.html#lesson-content">Lesson Content</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week05/day3/index.html#studio">Studio</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../week05/day4/index.html">Week 5 - Day 4: Gradle, Continuous Integration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../week05/day4/index.html#lesson-content">Lesson Content</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week05/day4/index.html#walkthrough">Walkthrough</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week05/day4/index.html#resources">Resources</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../week05/day5/index.html">Week 5 - Day 5: Sonarqube</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../week05/day5/index.html#lesson-content">Lesson Content</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week05/day5/index.html#walkthrough">Walkthrough</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week05/day5/index.html#retro">Retro</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../week06/project/index.html">Week 6 - Project Week: Zika Mission Control Part 3</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../week06/project/index.html#project">Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week06/project/index.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week06/project/index.html#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week06/project/index.html#new-stuff">New Stuff</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week06/project/index.html#milestones">Milestones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week06/project/index.html#debrief">Debrief</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week06/project/index.html#bonus-missions">Bonus Missions</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../week08/project/index.html">Week 8 - Project Week: Zika Mission Control Part 4</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../week08/project/index.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week08/project/index.html#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week08/project/index.html#normalizing-data">Normalizing Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week08/project/index.html#setup">Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week08/project/index.html#integrating-geoserver">Integrating GeoServer</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../week09/day3/index.html">Week 9 - Day 3: Intro to Docker</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../week09/day3/index.html#lesson-content">Lesson Content</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week09/day3/index.html#walkthrough">Walkthrough</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week09/day3/index.html#studio">Studio</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../week09/day4/index.html">Week 9 - Day 4: OAuth2</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../week09/day4/index.html#lesson">Lesson</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week09/day4/index.html#resources">Resources</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../week09/day5/index.html">Week 9 - Day 5: Certificates</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../week09/day5/index.html#lesson-content">Lesson Content</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week09/day5/index.html#walkthrough">Walkthrough</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week09/day5/index.html#resources">Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../week09/day5/index.html#retro">Retro</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul>
<li><a class="reference internal" href="#">Week 4 - Project Week: Zika Mission Control Part 2</a><ul>
<li><a class="reference internal" href="#project">Project</a></li>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#getting-the-code">Getting the code</a></li>
<li><a class="reference internal" href="#what-s-new-in-the-code">What’s new in the code</a></li>
<li><a class="reference internal" href="#requirements">Requirements</a></li>
<li><a class="reference internal" href="#suggested-endpoints-parameters">Suggested Endpoints/Parameters</a></li>
<li><a class="reference internal" href="#database-setup">Database Setup</a></li>
<li><a class="reference internal" href="#walkthrough-on-creating-the-location-data">Walkthrough on Creating the Location Data</a><ul>
<li><a class="reference internal" href="#adding-boundary-geometries">Adding Boundary Geometries</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    <div class="col-md-9 content">
      
  <div class="section" id="week-4-project-week-zika-mission-control-part-2">
<span id="week4-project"></span><h1>Week 4 - Project Week: Zika Mission Control Part 2<a class="headerlink" href="#week-4-project-week-zika-mission-control-part-2" title="Permalink to this headline">¶</a></h1>
<div class="section" id="project">
<h2>Project<a class="headerlink" href="#project" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><a class="reference external" href="../../_static/images/zika_mission_briefing_2.pdf">Mission Briefing 2</a></div></blockquote>
</div>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Your goal is to extend the CDC Zika Dashboard that you built last week. The scientists need several new features for the dashboard. Here are the stories:</p>
<ol class="arabic simple">
<li>CDC scientists have the ability to add new reports to the database.</li>
<li>CDC scientists have the  ability to visualize how the infection rate of each area changes over time.</li>
<li>CDC scientists have the ability to perform fuzzy search across all of the data.</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Remember, in Agile a story is just a “guaranteed conversation”. Stories usually don’t contain all of the details necessary to complete the task and that’s why it is important to follow up with the client and talk through the exact needs of your customer.</p>
</div>
</div>
<div class="section" id="getting-the-code">
<h2>Getting the code<a class="headerlink" href="#getting-the-code" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>Create a story branch named <code class="docutils literal notranslate"><span class="pre">week4-solution</span></code> from your solution to the week 2 zika project</li>
<li>Make sure you have a remote in your repo that points to <a class="reference external" href="https://gitlab.com/LaunchCodeTraining/zika-cdc-dashboard">https://gitlab.com/LaunchCodeTraining/zika-cdc-dashboard</a></li>
<li>Run <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">fetch</span> <span class="pre">upstream</span></code> (Assuming upstream points to the above repo)</li>
<li>Run <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">-b</span> <span class="pre">week4-starter</span> <span class="pre">upstream/week4-starter</span></code></li>
<li>Run <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">week4-soltuion</span></code></li>
<li>Now you can get the new files by pulling them in. Run <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">merge</span> <span class="pre">week4-starter</span></code> OR by simply pasting in select files. The choice is up to you.</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you decide to back out of a merge and try something else you can always reset your branch to it’s previous state.
The below command destroys all non committed changes in your local branch and reverts back to the previous commit. <code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">git</span> <span class="pre">reset</span> <span class="pre">--hard</span></code></p>
</div>
</div>
<div class="section" id="what-s-new-in-the-code">
<h2>What’s new in the code<a class="headerlink" href="#what-s-new-in-the-code" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>CSV files <code class="docutils literal notranslate"><span class="pre">data/locations.csv</span></code> and <code class="docutils literal notranslate"><span class="pre">data/all_reports.csv</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">src/main/resources/import.sql</span></code> copies the csv data into PostGIS when SpringBoot starts up (as long as <cite>spring.jpa.hibernate.ddl-auto</cite> is <cite>create</cite> or <cite>create-drop</cite> in <cite>application.properties</cite>)</li>
<li>Location data now contains multi-polygons instead of a single point</li>
<li>Elasticsearch dependencies and Repositories have been added</li>
<li><code class="docutils literal notranslate"><span class="pre">ESController</span></code> contains an endpoint to populate Elasticsearch with all data in your PostGIS db</li>
</ul>
</div>
<div class="section" id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<p>Use TDD when implementing these requirements</p>
<ol class="arabic simple">
<li>Build out a <code class="docutils literal notranslate"><span class="pre">/api/report</span></code> endpoint that accepts a POST containing Report JSON in the body.<ul>
<li>Store the Report created from JSON in PostGIS</li>
<li>Store the ReportDocument created from JSON in Elasticsearch</li>
</ul>
</li>
<li>Show Zika report data for a certain date on a map via OpenLayers (reports grouped by state for a certain date)</li>
<li>When a feature is clicked show the related report data (like in week 2 zika project)</li>
<li>Ability to change the data displayed by changing the report date</li>
<li>Search input and search button that uses Elasticsearch fuzzy search<ul>
<li>When search is executed matching reports should be shown below map</li>
<li>And/Or Features present on map should change to be only those that match report date and fuzzy search term</li>
</ul>
</li>
<li>Make sure you application is secure from <a class="reference external" href="https://www.owasp.org/index.php/SQL_Injection">SQL injection attacks</a> by validating the query parameters.</li>
<li>Create API docs with Springfox.</li>
<li>Use Eslint and Airbnb ruleset to make sure your JS meets team standards.</li>
</ol>
</div>
<div class="section" id="suggested-endpoints-parameters">
<h2>Suggested Endpoints/Parameters<a class="headerlink" href="#suggested-endpoints-parameters" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">api/report?date=2016-05-14</span></code> should return GeoJSON created from reports filtered by report date<ul>
<li>Most likey you want this data to come from Elasticsearch because of requirement #2</li>
</ul>
</li>
<li><code class="docutils literal notranslate"><span class="pre">api/report?search=brzil</span></code> should return GeoJSON created from Elasticsearch filtered using fuzzy search</li>
<li><code class="docutils literal notranslate"><span class="pre">api/report?search=brzil&amp;date=2016-05-14</span></code> should use both the <code class="docutils literal notranslate"><span class="pre">date</span></code> and <code class="docutils literal notranslate"><span class="pre">search</span></code> query parameters to limit the results.</li>
<li><code class="docutils literal notranslate"><span class="pre">api/report/unique-dates</span></code> returns JSON containing all unique report dates</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To index all of the reports in PostGIS into Elasticsearch use the following command: <code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">curl</span> <span class="pre">-XPOST</span> <span class="pre">http://localhost:8080/api/_cluster/reindex</span></code></p>
</div>
</div>
<div class="section" id="database-setup">
<h2>Database Setup<a class="headerlink" href="#database-setup" title="Permalink to this headline">¶</a></h2>
<p>Install the following extension on your PostGIS databases (don’t forget to do the same in your test db)::</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># CREATE EXTENSION unaccent;
</pre></div>
</div>
</div>
<div class="section" id="walkthrough-on-creating-the-location-data">
<h2>Walkthrough on Creating the Location Data<a class="headerlink" href="#walkthrough-on-creating-the-location-data" title="Permalink to this headline">¶</a></h2>
<p>All the spatial data you need is already included in the starter branch. However before starting to code this project please go through this walkthrough to see how it was created.  This will provide some insight into creating and configuring spatial data such as country and state boundaries.</p>
<div class="section" id="adding-boundary-geometries">
<h3>Adding Boundary Geometries<a class="headerlink" href="#adding-boundary-geometries" title="Permalink to this headline">¶</a></h3>
<p>The data that the scientists want to ingest is summarized in the <a class="reference external" href="https://github.com/cdcepi/zika">CDC Zika Repository</a>. If you open up the <a class="reference external" href="https://github.com/cdcepi/zika/blob/master/Argentina/Surveillance_Bulletin/data/Surveillance_Bulletin_01_2017-01-12.csv">data for Argentina</a>, you’ll notice that the data looks pretty similiar to last mission, except that there is no latitude or longitude to geocode each row; however, each row does have a location field. We should be able to indentify those locations to actual areas on a map.</p>
<p>Search for “political boundaries geojson” and find <a class="reference external" href="http://www.gadm.org/">gadm.org</a>. This site provides geospatial data about administrative boundaries for each state. Go to the <a class="reference external" href="http://www.gadm.org/country">GADM Downloads Page</a> to check out the data.</p>
<img alt="../../_images/GADM_download_page.png" src="../../_images/GADM_download_page.png" />
<p>Download the <a class="reference external" href="http://biogeo.ucdavis.edu/data/gadm2.8/shp/BRA_adm_shp.zip">shapefile for Brazil</a>.</p>
<p>The file <code class="docutils literal notranslate"><span class="pre">BRA_adm_shp.zip</span></code> will download. Double click the file to unzip the file. You should see three shapefiles: <code class="docutils literal notranslate"><span class="pre">BRA_adm0.shp</span></code>, <code class="docutils literal notranslate"><span class="pre">BRA_adm1.shp</span></code>, <code class="docutils literal notranslate"><span class="pre">BRA_adm2.shp</span></code>. <code class="docutils literal notranslate"><span class="pre">BRA_adm3.shp</span></code>. Let’s take a look at these shapefiles. In order to look at a shapefile, you will need download <a class="reference external" href="https://qgis.org/en/site/">QGIS</a>, an open source desktop viewer for geospatial data. QGIS can be downloaded via the <a class="reference external" href="https://connect.boundlessgeo.com/Downloads">Boundless site</a>. After downloading, double click the <code class="docutils literal notranslate"><span class="pre">.dmg</span></code> file to install.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note: Use your personal email to register on Boundless Connect to get access to the QGIS download.</p>
</div>
<p>After QGIS is installed, drag the <code class="docutils literal notranslate"><span class="pre">BRA_adm1.shp</span></code> file into the QGIS window in order to import the file.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The zoom on the QGIS window is VERY sensitive. You may need to automatically zoom to the layer you would like to view. Right click on your layer in the <em>Layers Panel</em>, and select <em>Zoom to Layer</em>.</p>
</div>
<img alt="../../_images/QGIS_zoom_to_layer.png" src="../../_images/QGIS_zoom_to_layer.png" />
<p>Great! That looks exactly like what we need. Let’s convert the file into GeoJSON so that we can serve it up from within our web application. We can use the <code class="docutils literal notranslate"><span class="pre">ogr2ogr</span></code> command.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ ogr2ogr -f &quot;GeoJSON&quot; brazil.geojson BRA_adm_shp/BRA_adm1.shp
</pre></div>
</div>
<p>After the command completes, check out the <code class="docutils literal notranslate"><span class="pre">brazil.geojson</span></code> file. Yikes! The file seems pretty big. Let’s see how big:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ ls -lh brazil.geojson
</pre></div>
</div>
<img alt="../../_images/CLI_check_file_size.png" src="../../_images/CLI_check_file_size.png" />
<p>A 25M file is not going to work well in our web app. And that’s just Brazil!</p>
<p>Fortunately, shapefiles can be compressed in size by reducing the amount of detail. In QGIS, select <em>Vector &gt; Geometry Tools &gt; Simplify geometries</em> from the top menu. Select your Brazil Geometry <code class="docutils literal notranslate"><span class="pre">BRA_adm1</span></code> and set the tolerance to <code class="docutils literal notranslate"><span class="pre">0.05</span></code>. Hit Run.</p>
<img alt="../../_images/QGIS_simplify_geometries.png" src="../../_images/QGIS_simplify_geometries.png" />
<p>QGIS should generate a new layer that looks pretty much the same as the last layer.</p>
<p>Right click on the newly created layer and select <em>Save As…</em>. Save the file as GeoJSON with the name <code class="docutils literal notranslate"><span class="pre">brazil_compressed.geojson</span></code>. Be sure to type in the entire path of the file that you are creating.</p>
<img alt="../../_images/QGIS_save_as.png" src="../../_images/QGIS_save_as.png" />
<p>Now if you check the size of the newly created <code class="docutils literal notranslate"><span class="pre">brazil_compressed.geojson</span></code>, you should see that it is much smaller!</p>
<p>Run the command:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ ls -lh brazil_compressed.geojson
</pre></div>
</div>
<img alt="../../_images/CLI_check_compressed_file_size.png" src="../../_images/CLI_check_compressed_file_size.png" />
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">A file size of 331K isn’t great for a webapp; it’s still a bit large. In a few weeks, we’ll look at how some of the features of GeoServer allows you to display large amounts of data without a big download.</p>
</div>
<p>The last step is to join all of the GeoJSON files together. To do that, we can use a nice Node.js library from MapBox. Run the following commands:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ npm install -g @mapbox/geojson-merge
$ geojson-merge argentina_compressed.geojson brazil_compressed.geojson columbia_compressed.geojson dominican_republic_compressed.geojson el_salvador_compressed.geojson equador_compressed.geojson guatamala_compressed.geojson haiti_compressed.geojson mexico_compressed.geojson
nicaragua_compressed.geojson panama_compressed.geojson &gt; states.geojson
</pre></div>
</div>
<p>To save you time, we went ahead and optimized the geometries for each country. Some might still need some work, but can
tackle that some day when you are bored.</p>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="../../_sources/week04/project/index.rst.txt"
     rel="nofollow">Page Source</a>
</div>
      
    </p>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>